DELIMITER $$
use fus$$
DROP PROCEDURE IF EXISTS Assign_Scooter_To_Courier_2$$
CREATE PROCEDURE Assign_Scooter_To_Courier_2(	
		In new_ScooterLicense 	varchar(7)	, 
		IN new_CourierID 		int	
		
)
BEGIN

    

 
 INSERT INTO scooterassign  (
        	ScooterLicense 	,
                InputDate	 		,
                CourierID 		
                 		
    )
    VALUES(
        new_ScooterLicense 		,
        sysDate()	 			, 
	new_CourierID 			
        	
        );

IF ((SELECT CURRENT_TIME())>'00:00:00' && (SELECT CURRENT_TIME())<'08:00:00') THEN update scooterassign set shift=0;
ELSEIF
((SELECT CURRENT_TIME())>'08:00:00' && (SELECT CURRENT_TIME())<'16:00:00') THEN update scooterassign set shift=1;
    else update scooterassign set shift=2;
 END IF;
 if(SELECT EXISTS (select * FROM `scooterassign` WHERe ScooterLicense=new_ScooterLicense AND IsActive=0)==0) 
 THEN UPDATE scooterassign set IsActive=1 where ;
 
ELSE
 UPDATE scooterassign set IsActive=0;

END IF;
END $$








call Assign_Scooter_To_Courier_2 ('8888888',25,	0);
SELECT * FROM scooterassign WHERE scooterassign.CourierID=25;




